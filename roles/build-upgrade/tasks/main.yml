---
- include: get_paths.yml

- name: Create the host_vars directory
  file: path={{ playbook_dir }}/host_vars/ state=directory

- name: Update VSD variables
  include_role:
    name: common
    tasks_from: vsd-process-vars

- name: Update VSC variables
  include_role:
    name: common
    tasks_from: vsc-process-vars

- name: Update VSTAT variables
  include_role:
    name: common
    tasks_from: vstat-process-vars

- name: Update VCIN variables
  include_role:
    name: common
    tasks_from: vcin-process-vars

- name: Update VNSUTIL variables
  include_role:
    name: common
    tasks_from: vnsutil-process-vars

- name: Update NSGV variables
  include_role:
    name: common
    tasks_from: nsgv-process-vars

- name: Update VRS variables
  include_role:
    name: common
    tasks_from: vrs-process-vars

- name: Create hosts file
  template: src=hosts.j2 dest="{{ playbook_dir }}/hosts" backup=no

- name: Create the group_vars directory
  file: path={{ playbook_dir }}/group_vars/ state=directory

- name: Create group_vars/all file
  template: src=group_vars.all.j2 dest="{{ playbook_dir }}/group_vars/all" backup=no

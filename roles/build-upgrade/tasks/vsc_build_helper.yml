---
- name: Set myvscs_check
  set_fact: myvscs_check={{myvscs is defined}}
  
- name: Assign empty list to myvscs if it is undefined
  set_fact: myvscs= default([])
  when: not myvscs_check

- name: Create host_vars files for vsc
  template: src=vsc.j2 backup=no dest={{ playbook_dir }}/host_vars/{{ item.hostname }}
  with_items: "{{ myvscs }}"
  when: myvscs_check 

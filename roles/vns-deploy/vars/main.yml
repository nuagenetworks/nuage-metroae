---
# Post Deploy specific Variables

# Timeout in seconds
retry_timeout: 120

# Command to generate and copy certs to vsc
create_certs: "/opt/vsd/ejbca/deploy/certMgmt.sh -a generate -u {{xmpp.username}} -c {{xmpp.username}} -d {{inventory_hostname}} -f pem -t server -s admin@{{mgmt_ip}}:/ -o csp"

# Alternate Command to generate and copy certs to vsc on VSD 4.0.4
create_certs_404: "/opt/vsd/ejbca/deploy/certMgmt.sh -a generate -u {{xmpp.username}} -c {{xmpp.username}} -d {{inventory_hostname}} -f pem -t server -s admin@{{mgmt_ip}}:/ -o csp -n VSPCA"

revoke_certs: "/opt/vsd/ejbca/deploy/certMgmt.sh -a revoke -u {{xmpp.username}}"

# List commands to execute on vsc
vns_config:
  - configure system security tls-profile vns-tls-profile no shutdown
  - configure vswitch-controller open-flow tls-profile vns-tls-profile
  - configure vswitch-controller xmpp tls-profile vns-tls-profile
  - admin save 
vsc_creds:
  host: "{{ mgmt_ip }}"
  username: admin
  password: admin
  transport: cli


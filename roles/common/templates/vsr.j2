# *** WARNING ***
# This is a generated file. Manual changes to this file
# will be lost if reset-build or build is run
#

# VSR hypervisor definition
target_server_type: {{ item.target_server_type | default('kvm') }}
hostname: {{ item.hostname }}
{% if item.target_server_type | match("kvm") or item.target_server_type | match("vcenter") %}
target_server: {{ item.target_server }}
{% if item.vmname is defined %}
vmname: {{ item.vmname }}
{% else %}
vmname: {{ item.hostname }}
{% endif %}
{% if item.target_server_type | match("kvm") %}
qcow2_path: {{ qcow2_path|default('qcow2_path not defined') }}
qcow2_file_name: {{ qcow2_file_name|default('qcow2_file_name not defined') }}
{% endif %}



# VSR ports mapping to linux bridges of hypervisor
{% if 'ports_to_hv_bridges' in item %}
ports_to_hv_bridges:
{% for _bridge in item.ports_to_hv_bridges%}
  - {{ _bridge }}
{% endfor %}
{% endif %}


# VSR bof address configuration
mgmt_ip: {{ item.mgmt_ip }}
mgmt_netmask_prefix: {{ item.mgmt_netmask_prefix }}
mgmt_gateway: {{ item.mgmt_gateway }}
mgmt_to_hv_bridge: '{{ item.mgmt_to_hv_bridge }}'
{% endif %}
mgmt_static_route_list:
{% for route in item.mgmt_static_route_list %}
  - {{ route }}
{% endfor %}

# VSR router address configuration
router:
{% if item.router.data_ip is defined %}
  data_ip: {{ item.router.data_ip }}
{% endif %}
  system_ip: {{ item.router.system_ip }}

nuage_integration: {{ item.nuage_integration | default(False) }}

# License and config file locations
{% if 'license_file' in item %}
license_file: {{ item.license_file }}
{% endif %}
{% if 'deploy_cfg_file' in item %}
deploy_cfg_file: {{ item.deploy_cfg_file }}
{% endif %}

# *** WARNING ***
# This file is automatically generated by build.yml.
# Changes made to this file may be overwritten.
#
[local_host]
localhost ansible_connection=local

{% if myvsds is defined and myvsds %}

{% if myvsds|length == 1 %}

[vsd_node1]
{{ myvsds[0].hostname }} {% if 'mgmt_bridge' in myvsds[0] %} mgmt_bridge={{ myvsds[0].mgmt_bridge }}{% endif %}

[vsds:children]
vsd_node1

{% else %}

[vsd_node1]
{{ myvsds[0].hostname }} {% if 'mgmt_bridge' in myvsds[0] %} mgmt_bridge={{ myvsds[0].mgmt_bridge }}{% endif %}

[vsd_node2]
{{ myvsds[1].hostname }} {% if 'mgmt_bridge' in myvsds[1] %} mgmt_bridge={{ myvsds[1].mgmt_bridge }}{% endif %}

[vsd_node3] 
{{ myvsds[2].hostname }} {% if 'mgmt_bridge' in myvsds[2] %} mgmt_bridge={{ myvsds[2].mgmt_bridge }}{% endif %}

[vsds:children]
vsd_node1
vsd_node2
vsd_node3

{% endif %}

{% endif %}

{% if myvcins is defined and myvcins %}
[vcin_masters]
{% for vcin in myvcins %}
{% if 'master_vcin' not in vcin %}
{{ vcin.hostname }} {% if 'mgmt_bridge' in vcin %} mgmt_bridge={{ vcin.mgmt_bridge }}{% endif %}

{% endif %}
{% endfor %}

[vcin_slaves]
{% for vcin in myvcins %}
{% if 'master_vcin' in vcin %}
{{ vcin.hostname }} {% if 'mgmt_bridge' in vcin %} mgmt_bridge={{ vcin.mgmt_bridge }}{% endif %}

{% endif %}
{% endfor %}

[vcins:children]
vcin_masters
vcin_slaves
{% endif %}

{% if myvscs is defined and myvscs %}

{% if myvscs|length == 1 %}

[vsc_node1]
{{ myvscs[0].hostname }} {% if 'mgmt_bridge' in myvscs[0] %} mgmt_bridge={{ myvscs[0].mgmt_bridge }}{% endif %}{% if 'data_bridge' in myvscs[0] %} data_bridge={{ myvscs[0].data_bridge }}{% endif %}

[vscs:children]
vsc_node1

{% elif myvscs|length == 2 %}

[vsc_node1]
{{ myvscs[0].hostname }} {% if 'mgmt_bridge' in myvscs[0] %} mgmt_bridge={{ myvscs[0].mgmt_bridge }}{% endif %}{% if 'data_bridge' in myvscs[0] %} data_bridge={{ myvscs[0].data_bridge }}{% endif %}

[vsc_node2]
{{ myvscs[1].hostname }} {% if 'mgmt_bridge' in myvscs[1] %} mgmt_bridge={{ myvscs[1].mgmt_bridge }}{% endif %}{% if 'data_bridge' in myvscs[1] %} data_bridge={{ myvscs[1].data_bridge }}{% endif %}

[vscs:children]
vsc_node1
vsc_node2

{% else %}

[vscs]
{% for vsc in myvscs %}
{{ vsc.hostname }} {% if 'mgmt_bridge' in vsc %} mgmt_bridge={{ vsc.mgmt_bridge }}{% endif %}{% if 'data_bridge' in vsc %} data_bridge={{ vsc.data_bridge }}{% endif %}

{% endfor %}

{% endif %}

{% endif %}

{% if mydnss is defined and mydnss %}
[dnss]
{% for dns in mydnss %}
{{ dns.hostname }}
{% endfor %}
{% endif %}

{% if mygvms is defined and mygvms %}
[gvms]
{% for gvm in mygvms %}
{{ gvm.hostname }}
{% endfor %}
{% endif %}

{% if myvrs_vms is defined and myvrs_vms %}
[vrs_vms]
{% for vrs_vm in myvrs_vms %}
{{ vrs_vm.hostname }}
{% endfor %}
{% endif %}

{% if myvnsutils is defined and myvnsutils %}
[vnsutils]
{% for vnsutil in myvnsutils %}
{{ vnsutil.hostname }} {% if 'mgmt_bridge' in vnsutil %} mgmt_bridge={{ vnsutil.mgmt_bridge }}{% endif %} {% if 'data_bridge' in vnsutil %} data_bridge={{ vnsutil.data_bridge }}{% endif %}

{% endfor %}
{% endif %}

{% if mynsgvs is defined and mynsgvs %}
[nsgvs]
{% for nsgv in mynsgvs %}
{{ nsgv.hostname }}
{% endfor %}
{% endif %}

{% if myvstats is defined and myvstats %}

{% if myvstats|length == 1 %}

[vstat_node1]
{{ myvstats[0].hostname }} {% if 'mgmt_bridge' in myvstats[0] %} mgmt_bridge={{ myvstats[0].mgmt_bridge }}{% endif %}

[vstats:children]
vstat_node1

{% else %}

[vstat_node1]
{{ myvstats[0].hostname }} {% if 'mgmt_bridge' in myvstats[0] %} mgmt_bridge={{ myvstats[0].mgmt_bridge }}{% endif %}

[vstat_node2]
{{ myvstats[1].hostname }} {% if 'mgmt_bridge' in myvstats[1] %} mgmt_bridge={{ myvstats[1].mgmt_bridge }}{% endif %}

[vstat_node3] 
{{ myvstats[2].hostname }} {% if 'mgmt_bridge' in myvstats[2] %} mgmt_bridge={{ myvstats[2].mgmt_bridge }}{% endif %}

[vstats:children]
vstat_node1
vstat_node2
vstat_node3

{% endif %}

{% endif %}


{% if myvrss is defined and myvrss %}
[vrss]
{% for vrs_dict_list in myvrss %}
{% for vrs_dict in vrs_dict_list['vrs_ip_list'] %}
{{ vrs_dict }} avrs={{ 'avrs' in vrs_dict_list and vrs_dict_list['avrs'] }}
{% endfor %}
{% endfor %}
{% endif %}

{% if myinfras is defined and myinfras %}
[infras]
{% for infra in myinfras %}
{{ infra.hostname }}
{% endfor %}
{% endif %}

{% if myoscs is defined and myoscs %}
[oscs]
{% for osc in myoscs %}
{{ osc.hostname }} {% if 'mgmt_bridge' in osc %} mgmt_bridge={{ osc.mgmt_bridge }}{% endif %}

{% endfor %}
{% endif %}

{% if myoscomputes is defined and myoscomputes %}
[os_computes]
{% for os_compute in myoscomputes %}
{{ os_compute.hostname }}
{% endfor %}
{% endif %}

{% if myvsrs is defined and myvsrs %}
[vsrs]
{% for vsr in myvsrs %}
{{ vsr.hostname }} {% if 'mgmt_bridge' in vsr %} mgmt_bridge={{ vsr.mgmt_bridge }}{% endif %}

{% endfor %}
{% endif %}

{% if mycis is defined and mycis %}
[cis]
{% for ci in mycis %}
{{ ci.hostname }}
{% endfor %}
{% endif %}

[ansible_deployment_host]
{{ ansible_deployment_host | default('localhost') }}

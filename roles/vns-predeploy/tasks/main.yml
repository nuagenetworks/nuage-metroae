---
- name: Verify that the myvsd section is defined
  assert:
    that: "groups['vsds'] is defined"
    msg: "vns-deploy requires VSD information. Please add VSD information to build_vars.yml, re-run the build, then re-run the vns-deploy. See examples for details."

- include: kvm.yml
  when: ("{{ target_server_type }}" == "kvm")
  tags:
    - vns
    - vns-predeploy

- include: vcenter.yml
  when: ("{{ target_server_type }}" == "vcenter")
  tags:
    - vns
    - vns-predeploy

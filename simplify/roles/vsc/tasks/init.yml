---

- name: Find name of VSC QCOW2 File
  find: path="{{ nuage.unzipped_files_dir }}/vsc"  pattern="vsc_singledisk.qcow2" recurse=yes
  register: rc_vsc_file

- debug: var=rc_vsc_file verbosity=1

- name: Verify that a VSC QCOW2 file was found
  assert: {
    that: "{{ rc_vsc_file.matched }} > 0",
    msg: "Unable to find VSC VM image file"
  }

- name: Register VSC QCOW2 variables with proper path and image locations for use in other playbooks
  set_fact:
    vsc_qcow2_path: "{{ rc_vsc_file.files[0].path | dirname }}"
    vsc_qcow2_file_name: "{{ rc_vsc_file.files[0].path | basename }}"

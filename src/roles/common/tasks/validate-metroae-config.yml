---
- name: Validate the user defined initial configuration
  metroae_config:
    spec_path: "{{ config_vsd_api_spec_path }}"
    template_path: "{{ config_template_path }}"
    user_data_path: "{{ config_user_data_path }}"
    credentials:
      username: '{{ encrypted.vsd_auth_username | default("csproot") | indent(8, False) }}'
      password: '{{ encrypted.vsd_auth_password | default("csproot") | indent(8, False) }}'
      enterprise: '{{ vsd_auth_enterprise | default("csp") }}'
      url: localhost
    state: validated

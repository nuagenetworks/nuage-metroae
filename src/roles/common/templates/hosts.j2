# *** WARNING ***
# This file is automatically generated by build.yml.
# Changes made to this file may be overwritten.
#
[local_host]
localhost ansible_connection=local

{% if vsds is defined and vsds %}

{% if vsds|length == 1 %}

[vsd_sa_node]
{{ vsds[0].hostname }} {% if 'mgmt_bridge' in vsds[0] %} mgmt_bridge={{ vsds[0].mgmt_bridge }}{% endif %}

[vsds:children]
vsd_sa_node

{% else %}

[vsd_ha_node1]
{{ vsds[0].hostname }} {% if 'mgmt_bridge' in vsds[0] %} mgmt_bridge={{ vsds[0].mgmt_bridge }}{% endif %}

[vsd_ha_node2]
{{ vsds[1].hostname }} {% if 'mgmt_bridge' in vsds[1] %} mgmt_bridge={{ vsds[1].mgmt_bridge }}{% endif %}

[vsd_ha_node3]
{{ vsds[2].hostname }} {% if 'mgmt_bridge' in vsds[2] %} mgmt_bridge={{ vsds[2].mgmt_bridge }}{% endif %}

[vsds:children]
vsd_ha_node1
vsd_ha_node2
vsd_ha_node3

{% endif %}

{% endif %}

{% if vcins is defined and vcins %}

[vcin_masters]
{% for vcin in vcins %}
{% if 'master_vcin' not in vcin %}
{{ vcin.hostname }} {% if 'mgmt_bridge' in vcin %} mgmt_bridge={{ vcin.mgmt_bridge }}{% endif %}

{% endif %}
{% endfor %}

[vcin_slaves]
{% for vcin in vcins %}
{% if 'master_vcin' in vcin %}
{{ vcin.hostname }} {% if 'mgmt_bridge' in vcin %} mgmt_bridge={{ vcin.mgmt_bridge }}{% endif %}

{% endif %}
{% endfor %}

[vcins:children]
vcin_masters
vcin_slaves

{% endif %}

{% if vscs is defined and vscs %}

{% if vscs|length == 1 %}

[vsc_sa_node]
{{ vscs[0].hostname }} {% if 'mgmt_bridge' in vscs[0] %} mgmt_bridge={{ vscs[0].mgmt_bridge }}{% endif %}{% if 'data_bridge' in vscs[0] %} data_bridge={{ vscs[0].data_bridge }}{% endif %}

[vscs:children]
vsc_sa_node

{% elif vscs|length == 2 %}

[vsc_ha_node1]
{{ vscs[0].hostname }} {% if 'mgmt_bridge' in vscs[0] %} mgmt_bridge={{ vscs[0].mgmt_bridge }}{% endif %}{% if 'data_bridge' in vscs[0] %} data_bridge={{ vscs[0].data_bridge }}{% endif %}

[vsc_ha_node2]
{{ vscs[1].hostname }} {% if 'mgmt_bridge' in vscs[1] %} mgmt_bridge={{ vscs[1].mgmt_bridge }}{% endif %}{% if 'data_bridge' in vscs[1] %} data_bridge={{ vscs[1].data_bridge }}{% endif %}

[vscs:children]
vsc_ha_node1
vsc_ha_node2

{% else %}

[vscs]
{% for vsc in vscs %}
{{ vsc.hostname }} {% if 'mgmt_bridge' in vsc %} mgmt_bridge={{ vsc.mgmt_bridge }}{% endif %}{% if 'data_bridge' in vsc %} data_bridge={{ vsc.data_bridge }}{% endif %}

{% endfor %}

{% endif %}

{% endif %}

{% if dnss is defined and dnss %}
[dnss]
{% for dns in dnss %}
{{ dns.hostname }}
{% endfor %}
{% endif %}

{% if gvms is defined and gvms %}
[gvms]
{% for gvm in gvms %}
{{ gvm.hostname }}
{% endfor %}
{% endif %}

{% if vnsutils is defined and vnsutils %}
[vnsutils]
{% for vnsutil in vnsutils %}
{{ vnsutil.hostname }} {% if 'mgmt_bridge' in vnsutil %} mgmt_bridge={{ vnsutil.mgmt_bridge }}{% endif %}

{% endfor %}
{% endif %}

{% if nsgvs is defined and nsgvs %}
[nsgvs]
{% for nsgv in nsgvs %}
{{ nsgv.hostname }}
{% endfor %}
{% endif %}

{% if vstats is defined and vstats %}

{% if vstats|length == 1 %}

[vstat_node1]
{{ vstats[0].hostname }} {% if 'mgmt_bridge' in vstats[0] %} mgmt_bridge={{ vstats[0].mgmt_bridge }}{% endif %}

[vstats:children]
vstat_node1

{% elif vstats|length == 2 %}

[vstat_node1]
{{ vstats[0].hostname }} {% if 'mgmt_bridge' in vstats[0] %} mgmt_bridge={{ vstats[0].mgmt_bridge }}{% endif %}

[vstat_node2]
{{ vstats[1].hostname }} {% if 'mgmt_bridge' in vstats[1] %} mgmt_bridge={{ vstats[1].mgmt_bridge }}{% endif %}

[vstats:children]
vstat_node1
vstat_node2

{% else %}

[vstat_node1]
{{ vstats[0].hostname }} {% if 'mgmt_bridge' in vstats[0] %} mgmt_bridge={{ vstats[0].mgmt_bridge }}{% endif %}

[vstat_node2]
{{ vstats[1].hostname }} {% if 'mgmt_bridge' in vstats[1] %} mgmt_bridge={{ vstats[1].mgmt_bridge }}{% endif %}

[vstat_node3]
{{ vstats[2].hostname }} {% if 'mgmt_bridge' in vstats[2] %} mgmt_bridge={{ vstats[2].mgmt_bridge }}{% endif %}

[vstats:children]
vstat_node1
vstat_node2
vstat_node3

{% endif %}

{% endif %}

{% if vrss is defined and vrss %}
[vrss]
{% for vrs_dict_list in vrss %}
{% for vrs_dict in vrs_dict_list['vrs_ip_list'] %}
{{ vrs_dict }} avrs={{ 'avrs' in vrs_dict_list and vrs_dict_list['avrs'] }}
{% endfor %}
{% endfor %}
{% endif %}

{% if vsrs is defined and vsrs %}
[vsrs]
{% for vsr in vsrs %}
{{ vsr.hostname }} {% if 'mgmt_bridge' in vsr %} mgmt_bridge={{ vsr.mgmt_bridge }}{% endif %}
{% endfor %}
{% endif %}

{% if cis is defined and cis %}
[cis]
{% for ci in cis %}
{{ ci.hostname }}
{% endfor %}
{% endif %}

[ansible_deployment_host]
{{ ansible_deployment_host|default('127.0.0.1') }}

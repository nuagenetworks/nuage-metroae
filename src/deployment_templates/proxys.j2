###############################################################################
# Proxy VM
#
# Specify configuration for Proxy to Architect
#
# Automatically generated by {{ generator_script | default("script") }}.
#

{% if proxys is defined and proxys %}
{% for item in proxys %}
#
# PROXY {{ loop.index }}
#
-
    ##### Host and target server info

    # < Hostname >
    # Hostname to assign to the PROXY VM
    #
    {%- if item.hostname is defined %}
    hostname: "{{ item.hostname }}"
    {%- else %}
    # hostname: ""
    {%- endif %}

    # < Vmname >
    # Vmname to assign to the PROXY VM
    #
    {%- if item.vmname is defined %}
    vmname: "{{ item.vmname }}"
    {%- else %}
    # vmname: ""
    {%- endif %}

    # < Target Server Type >
    # Type of hypervisor environment into which the instance will be created
    # (kvm, vcenter) 
    #
    {%- if item.target_server_type is defined %}
    target_server_type: "{{ item.target_server_type }}"
    {%- else %}
    # target_server_type: ""
    {%- endif %}

    # < Target Server IP or FQDN >
    # Hostname or IP address of the KVM hypervisor where the PROXY VM will be instantiated
    #
    {%- if item.target_server is defined %}
    target_server: "{{ item.target_server }}"
    {%- else %}
    # target_server: ""
    {%- endif %}

    #################################

    ##### Management network

    # < Management IP Address >
    # IP address to assign to the management network interface of the PROXY VM
    #
    {%- if item.mgmt_ip is defined %}
    mgmt_ip: "{{ item.mgmt_ip }}"
    {%- else %}
    # mgmt_ip: ""
    {%- endif %}

    # < Management Network Gateway >
    # IP address of the network gateway for the management network interface of the PROXY VM
    #
    {%- if item.mgmt_gateway is defined %}
    mgmt_gateway: "{{ item.mgmt_gateway }}"
    {%- else %}
    # mgmt_gateway: ""
    {%- endif %}

    # < Management Network Prefix Length >
    # Management network netmask for the PROXY VM
    #
    {%- if item.mgmt_netmask is defined %}
    mgmt_netmask: "{{ item.mgmt_netmask }}"
    {%- else %}
    # mgmt_netmask: ""
    {%- endif %}

    ########################

    ##### VM details

    # < Image path of the Proxy VM >
    # Path to the Proxy qcow2 image
    #
    {%- if item.proxy_vm_qcow2_path is defined %}
    proxy_vm_qcow2_path: "{{ item.proxy_vm_qcow2_path }}"
    {%- else %}
    # proxy_vm_qcow2_path: ""
    {%- endif %}

    # < Image file name of the Proxy VM >
    # File name of the Proxy qcow2 image
    #
    {%- if item.proxy_vm_qcow2_file_name is defined %}
    proxy_vm_qcow2_file_name: "{{ item.proxy_vm_qcow2_file_name }}"
    {%- else %}
    # proxy_vm_qcow2_file_name: ""
    {%- endif %}

    # < VM VCPUs >
    # Number of vCPUs to apply to the Proxy VM
    #
    {%- if item.vcpus is defined %}
    vcpus: {{ item.vcpus }}
    {%- else %}
    # vcpus: ""
    {%- endif %}

    # < VM RAM >
    # Amount of RAM to apply to the Proxy VM
    #
    {%- if item.ram is defined %}
    ram: {{ item.ram }}
    {%- else %}
    # ram: ""
    {%- endif %}

    ################

    ##### VSD fqdn

    # < FQDN of VSD1 >
    # The FQDN value that VSD1 VM holds
    #
    {%- if item.vsd1_fqdn is defined %}
    vsd1_fqdn: "{{ item.vsd1_fqdn }}"
    {%- else %}
    # vsd1_fqdn: ""
    {%- endif %}

    # < FQDN of VSD2 >
    # The FQDN value that VSD2 VM holds
    #
    {%- if item.vsd2_fqdn is defined %}
    vsd2_fqdn: "{{ item.vsd2_fqdn }}"
    {%- else %}
    # vsd2_fqdn: ""
    {%- endif %}

    # < FQDN of VSD3 >
    # The FQDN value that VSD3 VM holds
    #
    {%- if item.vsd3_fqdn is defined %}
    vsd3_fqdn: "{{ item.vsd3_fqdn }}"
    {%- else %}
    # vsd3_fqdn: ""
    {%- endif %}

    ##############

{% endfor %}
{% else %}
[ ]
{% endif %}

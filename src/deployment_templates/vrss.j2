###############################################################################
# Virtualized Routing and Switching Settings
#
# Specify configuration for deploying Nuage VRSs
#
# Automatically generated by {{ generator_script | default("script") }}.
#

{% if vrss is defined and vrss %}
{% for item in vrss %}
#
# VRS {{ loop.index }}
#
-
    ##### Compute Nodes

    # < VRS Hypervisor OS type >
    # Hypervisor type for VRS installation
    # (u16.04, el7) 
    #
    vrs_os_type: "{{ item.vrs_os_type }}"

    # < VRS Hypervisor Management IP list >
    # Hypervisor Management IP list on which VRS will be installed
    #
    vrs_ip_list: [ {% for i in item.vrs_ip_list | default([]) %}"{{ i }}", {% endfor %}]

    # < DKMS install >
    # Optional DKMS module installation for MPLSoGRE tunnel type
    #
    {%- if item.dkms_install is defined %}
    dkms_install: {{ item.dkms_install | lower }}
    {%- else %}
    # dkms_install: False
    {%- endif %}

    ###################

    ##### Controller Configuration

    # < Active Controller IP address >
    # Primary/Active Controller IP address
    #
    active_controller_ip: "{{ item.active_controller_ip }}"

    # < Standby Controller IP address >
    # Secondary/Standby Controller IP address
    #
    {%- if item.standby_controller_ip is defined %}
    standby_controller_ip: "{{ item.standby_controller_ip }}"
    {%- else %}
    # standby_controller_ip: ""
    {%- endif %}

    ##############################

    ##### Certificates and credentials

    # < Private key path >
    # Path to VRS certificate key pem file
    #
    {%- if item.private_key_path is defined %}
    private_key_path: "{{ item.private_key_path }}"
    {%- else %}
    # private_key_path: ""
    {%- endif %}

    # < Certificate path >
    # Path to VRS certificate pem file
    #
    {%- if item.certificate_path is defined %}
    certificate_path: "{{ item.certificate_path }}"
    {%- else %}
    # certificate_path: ""
    {%- endif %}

    # < CA certificate path >
    # Path to CA certificate pem file
    #
    {%- if item.ca_certificate_path is defined %}
    ca_certificate_path: "{{ item.ca_certificate_path }}"
    {%- else %}
    # ca_certificate_path: ""
    {%- endif %}

    # < Credentials set name >
    # Name of the credentials set for the vrs
    #
    {%- if item.credentials_set is defined %}
    credentials_set: "{{ item.credentials_set }}"
    {%- else %}
    # credentials_set: ""
    {%- endif %}

    ##################################

{% endfor %}
{% else %}
[ ]
{% endif %}

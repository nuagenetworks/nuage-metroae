###############################################################################
# Common Configuration Settings
#
# Common configuration settings for this deployment
#
# Automatically generated by {{ generator_script | default("script") }}.
#

##### Paths and Domains

# < Nuage Unzip Files Directory >
# Full path to the directory where the Nuage unzipped files for this deployment can be found  E.g. qcow2 files. When using docker container the path needs to be a relative path from the images path specified during setup.
#
nuage_unzipped_files_dir: "{{ nuage_unzipped_files_dir }}"

# < Nuage Software Version >
# Nuage software version being installed. Optional for version comparison to skip deployment of some components that have already been installed.
#
{%- if nuage_software_version is defined %}
nuage_software_version: "{{ nuage_software_version }}"
{%- else %}
# nuage_software_version: ""
{%- endif %}

{%- if show_target_server_type | default('kvm') == 'kvm' %}

# < KVM Images Directory >
# Full path to the directory on the KVM target server where qcow2 files will be copied
#
{%- if images_path is defined %}
images_path: "{{ images_path }}"
{%- else %}
# images_path: /var/lib/libvirt/images/
{%- endif %}
{%- endif %}

# < Domain Name >
# Domain name for this deployment. E.g. company.net.
#
dns_domain: "{{ dns_domain }}"

# < Reports Directory >
# Full path to the directory where the generated health reports for this deployment will be placed
#
{%- if metro_reports_dir is defined %}
metro_reports_dir: "{{ metro_reports_dir }}"
{%- else %}
# metro_reports_dir: ./reports
{%- endif %}

# < Branding Zip File >
# Enables custom branding for the VSD GUI. When not defined, the default VSD branding, already present on the VSD itself, will be used. If branding_zip_file is defined, its value will be used to replace the default VSD branding with the contents of a zip file on the Ansible host.  The files contained in the zip file should conform to the specifications of the VNS install guide. For replacing the default branding on the VSD, this value should be set to one of the following values: 1) The path to a branding zip file on the Ansible host 2) The special value 'nuage' for adding a MetroAE tag to the default VSD branding. This value is provided as an example of a minimal modification of branding. 3) The special value 'metroae' to replace the default VSD branding with a complete MetroAE-themed brand. This value is provided as an example of a complete replacement of all branding components. Note that when this is defined the existing branding will be backed up to the directory specified by the Metro Backup Root variable under (hostname)-branding/. To rollback a branding change, copy the branding zip file out of the backup directory, set this variable to the path to the copied backup file, and run the brand_vsd playbook, i.e. metroae brand_vsd.
#
{%- if branding_zip_file is defined %}
branding_zip_file: "{{ branding_zip_file }}"
{%- else %}
# branding_zip_file: ""
{%- endif %}

#######################

##### Management FQDNs

# < Global VSD FQDN >
# For clustered VSD, the XMPP FQDN for the cluster; For standalone VSD, the FQDN of the single VSD
#
vsd_fqdn_global: "{{ vsd_fqdn_global }}"

# < Global VSD API port >
# For clustered VSD, server port on the Proxy/LB endpoint; For standalone VSD, port on the standalone instance
#
{%- if vsd_port_global is defined %}
vsd_port_global: "{{ vsd_port_global }}"
{%- else %}
# vsd_port_global: ""
{%- endif %}

# < Global SD-WAN Portal FQDN >
# For HA PORTAL, the FQDN for the Proxy/LB endpoint; For standalone PORTAL, the FQDN of the single PORTAL
#
{%- if portal_fqdn_global is defined %}
portal_fqdn_global: "{{ portal_fqdn_global }}"
{%- else %}
# portal_fqdn_global: ""
{%- endif %}

# < Global VSTAT FQDN >
# For clustered VSTAT, the FQDN for the VSTAT cluster; For standalone VSTAT, the FQDN of the single VSTAT
#
{%- if vstat_fqdn_global is defined %}
vstat_fqdn_global: "{{ vstat_fqdn_global }}"
{%- else %}
# vstat_fqdn_global: ""
{%- endif %}

######################

##### Network Bridges

# < Management Network Bridge >
# Network Bridge used for the management interface of a component or the BOF interface on VSC. This will be a Distributed Virtual PortGroup (DVPG) when deploying on vCenter or a Linux network bridge when deploying on KVM. This field can be overridden by defining the management network bridge separately in the component configuration
#
{%- if mgmt_bridge is defined %}
mgmt_bridge: "{{ mgmt_bridge }}"
{%- else %}
# mgmt_bridge: ""
{%- endif %}

# < Data Network Bridge >
# Network Bridge used for the data path of a component or the Control interface on VSC. This will be a Distributed Virtual PortGroup (DVPG) when deploying on vCenter or a Linux network bridge when deploying on KVM. This field can be overridden by defining the Data network bridge separately in the component configuration
#
{%- if data_bridge is defined %}
data_bridge: "{{ data_bridge }}"
{%- else %}
# data_bridge: ""
{%- endif %}

# < NSGv Access Bridge >
# Network bridge used for the access network when installing an NSGv. This will be a Distributed Virtual PortGroup (DVPG) when deploying on vCenter or a Linux network bridge when installing on KVM
#
{%- if access_bridge is defined %}
access_bridge: "{{ access_bridge }}"
{%- else %}
# access_bridge: ""
{%- endif %}

#####################

##### Network Services

# < NTP Server IP(s) >
# List of one or more NTP server addresses that must be in dotted-decimal (IPv4) or hexidecimal (IPv6) format
#
ntp_server_list: [ {% for i in ntp_server_list | default([]) %}"{{ i }}", {% endfor %}]

# < DNS server IP(s) >
# List of one or more DNS server addresses for resolving component domain names. Must be in dotted-decimal (IPv4) or hexidecimal (IPv6) format.
#
dns_server_list: [ {% for i in dns_server_list | default([]) %}"{{ i }}", {% endfor %}]

######################

##### Stats Out

# < Statistics Out Deployment >
# Set the deployment for stats-out.  At this time, only exactly 3 clustered VSDs and exactly 3 stats VSDs are supported.  The first 3 VSDs specified are clustered and the remaining are marked statistics only
#
{%- if stats_out is defined %}
stats_out: {{ stats_out | lower }}
{%- else %}
# stats_out: False
{%- endif %}

# < Statistics Out Proxy Address >
# Set the proxy address for a stats-out deployment.  If unspecified the first NUH to be deployed will be used as the proxy.  If there are no NUHs being deployed, an alternative proxy address must be specified.
#
{%- if stats_out_proxy is defined %}
stats_out_proxy: "{{ stats_out_proxy }}"
{%- else %}
# stats_out_proxy: (first NUH hostname)
{%- endif %}

###############

##### Options

# < Timezone >
# Timezone specification for the deployment
#
{%- if timezone is defined %}
timezone: "{{ timezone }}"
{%- else %}
# timezone: US/Pacific
{%- endif %}

# < Skip DNS Resolution Tests >
# When true, skip DNS resolution checks for hostnames from the MetroAE host. This is used for situations where the VSP components are configured to use a DNS server that is not accessible from the MetroAE host or when you are deploying a new DNS server with MetroAE.
#
{%- if skip_dns_resolution_tests is defined %}
skip_dns_resolution_tests: {{ skip_dns_resolution_tests | lower }}
{%- else %}
# skip_dns_resolution_tests: False
{%- endif %}

# < Run VSD Cluster RTT Tests >
# When true, run RTT tests between VSDs in a cluster or standby/active cluster
#
{%- if vsd_run_cluster_rtt_test is defined %}
vsd_run_cluster_rtt_test: {{ vsd_run_cluster_rtt_test | lower }}
{%- else %}
# vsd_run_cluster_rtt_test: False
{%- endif %}

# < Ignore RTT Test Errors >
# When true, continue MetroAE execution upon error and do not validate the RTT between VSDs in a cluster is less than max RTT, else stop MetroAE execution upon error
#
{%- if vsd_ignore_errors_rtt_test is defined %}
vsd_ignore_errors_rtt_test: {{ vsd_ignore_errors_rtt_test | lower }}
{%- else %}
# vsd_ignore_errors_rtt_test: False
{%- endif %}

# < Max VSD cluster RTT >
# Maximum RTT in milliseconds between VSDs in a cluster
#
{%- if vsd_max_cluster_rtt_msec is defined %}
vsd_max_cluster_rtt_msec: {{ vsd_max_cluster_rtt_msec }}
{%- else %}
# vsd_max_cluster_rtt_msec: 20
{%- endif %}

# < Max VSD active-standby RTT >
# Maximum RTT in milliseconds between Active and Standby VSDs
#
{%- if vsd_max_active_standby_rtt_msec is defined %}
vsd_max_active_standby_rtt_msec: {{ vsd_max_active_standby_rtt_msec }}
{%- else %}
# vsd_max_active_standby_rtt_msec: 200
{%- endif %}

# < Run VSD Disk Performance Test >
# Run the VSD disk performance test when true, else skip the test
#
{%- if vsd_run_disk_performance_test is defined %}
vsd_run_disk_performance_test: {{ vsd_run_disk_performance_test | lower }}
{%- else %}
# vsd_run_disk_performance_test: False
{%- endif %}

# < Total Size of Disk Performance Test Files >
# Sets the total size of created files for VSD disk performance test. For a valid measurement, the total file size must be larger than VSD RAM to minimize the effects of caching.
#
{%- if vsd_disk_performance_test_total_file_size is defined %}
vsd_disk_performance_test_total_file_size: "{{ vsd_disk_performance_test_total_file_size }}"
{%- else %}
# vsd_disk_performance_test_total_file_size: 100G
{%- endif %}

# < Minimum Disk Performance Threshold >
# Sets the minimum value for VSD disk performance test in IOPS
#
{%- if vsd_disk_performance_test_minimum_threshold is defined %}
vsd_disk_performance_test_minimum_threshold: "{{ vsd_disk_performance_test_minimum_threshold }}"
{%- else %}
# vsd_disk_performance_test_minimum_threshold: 10000
{%- endif %}

# < Duration of Disk Performance Test in Seconds >
# Sets the duration of the VSD disk performance test in seconds
#
{%- if vsd_disk_performance_test_max_time is defined %}
vsd_disk_performance_test_max_time: "{{ vsd_disk_performance_test_max_time }}"
{%- else %}
# vsd_disk_performance_test_max_time: 300
{%- endif %}

# < Ignore Disk Performance Test Errors >
# When true, continue MetroAE execution upon error and ignore the results of the VSD disk performance test, else stop MetroAE execution upon error
#
{%- if vsd_ignore_disk_performance_test_errors is defined %}
vsd_ignore_disk_performance_test_errors: {{ vsd_ignore_disk_performance_test_errors | lower }}
{%- else %}
# vsd_ignore_disk_performance_test_errors: False
{%- endif %}

# < Prompt before destroying components >
# When true, ask user for confirmation before MetroAE destroys components.
#
{%- if prompt_before_destroy is defined %}
prompt_before_destroy: {{ prompt_before_destroy | lower }}
{%- else %}
# prompt_before_destroy: False
{%- endif %}

#############

##### Backup and Restore

# < Backup directory >
# Specifies the global directory root to store backup file sets on the MetroAE host.  This overrides metro_backup_root in the upgrade deployment file if specified.  If neither is specified, a backups directory will be created off of nuage_unzipped_files_dir.
#
{%- if backup_directory_root is defined %}
backup_directory_root: "{{ backup_directory_root }}"
{%- else %}
# backup_directory_root: ""
{%- endif %}

# < Maximum number of backups to store. >
# Specifies the maximum number of backups to store in backup_directory_root.  The oldest backups of the same type exceeding this amount will be deleted at backup time.  The default of -1 specifies no limit.
#
{%- if max_num_stored_backups is defined %}
max_num_stored_backups: {{ max_num_stored_backups }}
{%- else %}
# max_num_stored_backups: -1
{%- endif %}

# < Backup set directory to be restored. >
# The name of the backup file set directory under the backup_directory_root to restore.
#
{%- if backup_to_restore is defined %}
backup_to_restore: "{{ backup_to_restore }}"
{%- else %}
# backup_to_restore: backup-latest-full
{%- endif %}

########################

{%- if show_target_server_type | default('vcenter') == 'vcenter' %}

##### vCenter infrastructure

# < vCenter Datacenter >
# vCenter datacenter to deploy Nuage components. Can be overridden by individual components
#
{%- if vcenter_datacenter is defined %}
vcenter_datacenter: "{{ vcenter_datacenter }}"
{%- else %}
# vcenter_datacenter: ""
{%- endif %}
{%- endif %}

{%- if show_target_server_type | default('vcenter') == 'vcenter' %}

# < vCenter Cluster Name >
# Name of the vCenter cluster on which to deploy Nuage components. Can be overridden by individual components
#
{%- if vcenter_cluster is defined %}
vcenter_cluster: "{{ vcenter_cluster }}"
{%- else %}
# vcenter_cluster: ""
{%- endif %}
{%- endif %}

{%- if show_target_server_type | default('vcenter') == 'vcenter' %}

# < vCenter Host Reference >
# Requires ovftool 4.3. Reference to the host on the vCenter cluster on which to deploy Nuage components. Can be overridden by individual components
#
{%- if vcenter_host_reference is defined %}
vcenter_host_reference: "{{ vcenter_host_reference }}"
{%- else %}
# vcenter_host_reference: ""
{%- endif %}
{%- endif %}

{%- if show_target_server_type | default('vcenter') == 'vcenter' %}

# < vCenter Datastore Name >
# Name of the vCenter datastore on which to deploy the Nuage components. Can be overridden by individual components
#
{%- if vcenter_datastore is defined %}
vcenter_datastore: "{{ vcenter_datastore }}"
{%- else %}
# vcenter_datastore: ""
{%- endif %}
{%- endif %}

{%- if show_target_server_type | default('vcenter') == 'vcenter' %}

# < vCenter VM Folder >
# Optional path to a folder defined on vCenter where VM will be instantiated
#
{%- if vcenter_vmfolder is defined %}
vcenter_vmfolder: "{{ vcenter_vmfolder }}"
{%- else %}
# vcenter_vmfolder: ""
{%- endif %}
{%- endif %}

{%- if show_target_server_type | default('vcenter') == 'vcenter' %}

# < vCenter Hosts and Clusters Folder >
# Optional path to a hosts and clusters folder defined on vCenter where VM will be instantiated
#
{%- if vcenter_host_clusters_folder is defined %}
vcenter_host_clusters_folder: "{{ vcenter_host_clusters_folder }}"
{%- else %}
# vcenter_host_clusters_folder: ""
{%- endif %}

############################
{%- endif %}

{%- if show_target_server_type | default('vcenter') == 'vcenter' %}

##### vCenter common

# < vCenter Resource Pool >
# The vCenter resource pool where the VMs need to be located. A resource pool is a logical abstraction of resources. Different resource pools can be configured to have different priorities in case of resource contention and can have different resource reservations and limitations.
#
{%- if vcenter_resource_pool is defined %}
vcenter_resource_pool: "{{ vcenter_resource_pool }}"
{%- else %}
# vcenter_resource_pool: ""
{%- endif %}
{%- endif %}

{%- if show_target_server_type | default('vcenter') == 'vcenter' %}

# < OVF tool location >
# This is the full path to the vCenter OVFtool executable. When running metroae from a clone of the nuage-metroae repo, this should be set to the path to ovftool on the host, usually /usr/bin/ovftool. When running the metroae Docker container, the ovftool installation directory, /usr/lib/vmware-ovftool, must be copied to the metroae_data directory and this parameter must be set to the internal container path to the ovftool in that directory, /data/vmware-ovftool/ovftool.
#
{%- if vcenter_ovftool is defined %}
vcenter_ovftool: "{{ vcenter_ovftool }}"
{%- else %}
# vcenter_ovftool: /usr/bin/ovftool
{%- endif %}
{%- endif %}

{%- if show_target_server_type | default('vcenter') == 'vcenter' %}

# < vCenter Interfaces Disabled State >
# This when set to true starts the VM with disabled interfaces during upgrade process
#
{%- if vcenter_start_vsd_with_interfaces_disabled is defined %}
vcenter_start_vsd_with_interfaces_disabled: {{ vcenter_start_vsd_with_interfaces_disabled | lower }}
{%- else %}
# vcenter_start_vsd_with_interfaces_disabled: False
{%- endif %}

####################
{%- endif %}

{%- if show_target_server_type | default('openstack') == 'openstack' %}

##### OpenStack

# < OpenStack Project Name >
# Project name for OpenStack
#
{%- if openstack_project_name is defined %}
openstack_project_name: "{{ openstack_project_name }}"
{%- else %}
# openstack_project_name: ""
{%- endif %}
{%- endif %}

{%- if show_target_server_type | default('openstack') == 'openstack' %}

# < OpenStack Keystone URL >
# Keystone URL for OpenStack
#
{%- if openstack_auth_url is defined %}
openstack_auth_url: "{{ openstack_auth_url }}"
{%- else %}
# openstack_auth_url: ""
{%- endif %}
{%- endif %}

{%- if show_target_server_type | default('openstack') == 'openstack' %}

# < OpenStack Project Domain Name >
# Project domain name for OpenStack if required
#
{%- if openstack_project_domain_name is defined %}
openstack_project_domain_name: "{{ openstack_project_domain_name }}"
{%- else %}
# openstack_project_domain_name: default
{%- endif %}
{%- endif %}

{%- if show_target_server_type | default('openstack') == 'openstack' %}

# < OpenStack User Domain Name >
# User domain name for OpenStack if required
#
{%- if openstack_user_domain_name is defined %}
openstack_user_domain_name: "{{ openstack_user_domain_name }}"
{%- else %}
# openstack_user_domain_name: default
{%- endif %}
{%- endif %}

{%- if show_target_server_type | default('openstack') == 'openstack' %}

# < OpenStack CA Certificate >
# CA cetrificate file path for Openstack if necessary
#
{%- if openstack_cacert is defined %}
openstack_cacert: "{{ openstack_cacert }}"
{%- else %}
# openstack_cacert: ""
{%- endif %}
{%- endif %}

{%- if show_target_server_type | default('openstack') == 'openstack' %}

# < VSC Trunking >
# This enables trunking between vsc control port and its underlay ports (openstack_external_port1_name, openstack_external_port2_name,openstack_external_port3_name) as defined under vscs.yml
#
{%- if vsc_trunking is defined %}
vsc_trunking: {{ vsc_trunking | lower }}
{%- else %}
# vsc_trunking: False
{%- endif %}

###############
{%- endif %}

{%- if show_target_server_type | default('kvm') == 'kvm' %}

##### Security

# < SSH Public Key >
# Full path to the public key file to be injected into Nuage components to enable passwordless connectivity for configuration. When using docker container changing the path from default can cause connectivity issues
#
{%- if user_ssh_pub_key is defined %}
user_ssh_pub_key: "{{ user_ssh_pub_key }}"
{%- else %}
# user_ssh_pub_key: ~/.ssh/id_rsa.pub
{%- endif %}
{%- endif %}

# < XMPP TLS >
# Flag to indicate when secure communications via TLS will be used between VSCs and VSDs
#
{%- if xmpp_tls is defined %}
xmpp_tls: {{ xmpp_tls | lower }}
{%- else %}
# xmpp_tls: True
{%- endif %}

# < Set XMPP TLS mode require or allow >
# Set XMPP TLS mode require or allow
# (allow, require) 
#
{%- if xmpp_tls_mode is defined %}
xmpp_tls_mode: "{{ xmpp_tls_mode }}"
{%- else %}
# xmpp_tls_mode: ""
{%- endif %}

# < OpenFlow TLS >
# Flag to indicate when secure communications via TLS will be used between VSCs and data plane components, e.g. VRS or NSGv; If VRS is defined, target_server_password must be defined in credentials.yml
#
{%- if openflow_tls is defined %}
openflow_tls: {{ openflow_tls | lower }}
{%- else %}
# openflow_tls: True
{%- endif %}

##############

##### Licenses

# < VSD Standard License File >
# Path to the standard license file for the VSD including the file name
#
{%- if vsd_license_file is defined %}
vsd_license_file: "{{ vsd_license_file }}"
{%- else %}
# vsd_license_file: ""
{%- endif %}

# < VSD Cluster License File >
# Path to the cluster license file for the VSD including the file name
#
{%- if vsd_cluster_license_file is defined %}
vsd_cluster_license_file: "{{ vsd_cluster_license_file }}"
{%- else %}
# vsd_cluster_license_file: ""
{%- endif %}

# < VSD License Required Days Left >
# Raise a failure if the VSD licenses (Standard or cluster only) do not have at least the specified number of days remaining before expiration. If undefined, no check of days remaining before VSD license expiration will be made. If you want to verify that the number of days left before expiration is more than a certain number of days, uncomment this variable and set the value to the number of days.
#
{%- if vsd_license_required_days_left is defined %}
vsd_license_required_days_left: {{ vsd_license_required_days_left }}
{%- else %}
# vsd_license_required_days_left: -1
{%- endif %}

# < Continue Metroae execution on VSD license failure >
# Continue Metroae execution even after license failure if this is set to true
#
{%- if vsd_continue_on_license_failure is defined %}
vsd_continue_on_license_failure: {{ vsd_continue_on_license_failure | lower }}
{%- else %}
# vsd_continue_on_license_failure: False
{%- endif %}

# < VSD Ejabberd License File >
# Path to the Ejabberd license file for the VSD including the file name
#
{%- if vsd_ejabberd_license_file is defined %}
vsd_ejabberd_license_file: "{{ vsd_ejabberd_license_file }}"
{%- else %}
# vsd_ejabberd_license_file: ""
{%- endif %}

# < VSTAT License File >
# Optional License File for Elasticsearch
#
{%- if vstat_license_file is defined %}
vstat_license_file: "{{ vstat_license_file }}"
{%- else %}
# vstat_license_file: ""
{%- endif %}

# < SD-WAN Portal License File >
# Path to the license file for the SD-WAN Portal including the file name
#
{%- if portal_license_file is defined %}
portal_license_file: "{{ portal_license_file }}"
{%- else %}
# portal_license_file: ""
{%- endif %}

# < NUH License File >
# Path to the license file for the NUH including the file name
#
{%- if nuh_license_file is defined %}
nuh_license_file: "{{ nuh_license_file }}"
{%- else %}
# nuh_license_file: ""
{%- endif %}

##############

##### Yum and SSH Proxy

# < VSD yum update >
# Flag to indicate whether to perform a Yum update on VSD during the installation
#
{%- if yum_update is defined %}
yum_update: {{ yum_update | lower }}
{%- else %}
# yum_update: True
{%- endif %}

# < VSTAT yum update >
# Flag to indicate whether to perform a Yum update on VSTAT during the installation
#
{%- if vstat_yum_update is defined %}
vstat_yum_update: {{ vstat_yum_update | lower }}
{%- else %}
# vstat_yum_update: False
{%- endif %}

# < Proxy for Yum Updates >
# Proxy URL to be used if Yum repositories cannot be directly reached
#
{%- if yum_proxy is defined %}
yum_proxy: "{{ yum_proxy }}"
{%- else %}
# yum_proxy: NONE
{%- endif %}

# < SSH proxy configuration username >
# Username of the SSH proxy host if one is used
#
{%- if ssh_proxy_username is defined %}
ssh_proxy_username: "{{ ssh_proxy_username }}"
{%- else %}
# ssh_proxy_username: root
{%- endif %}

# < SSH proxy configuration host >
# IP Address or Hostname of the SSH host if one is used
#
{%- if ssh_proxy_host is defined %}
ssh_proxy_host: "{{ ssh_proxy_host }}"
{%- else %}
# ssh_proxy_host: sshhost
{%- endif %}

#######################

##### Disk Space

# < VSD Disk Size >
# Amount of VSD disk space to pre-allocate, in GB. Note: Values smaller than the default are for lab and PoC only. Production deployments must use a value greater than or equal to the default.
#
{%- if vsd_fallocate_size_gb is defined %}
vsd_fallocate_size_gb: {{ vsd_fallocate_size_gb }}
{%- else %}
# vsd_fallocate_size_gb: 285
{%- endif %}

# < VSC Disk Size >
# Amount of VSC disk space to pre-allocate, in GB. The only valid values are 0 and 1. When undefined or 0, file size allocation will be skipped. Production deployments should set this value to 1.
#
{%- if vsc_fallocate_size_gb is defined %}
vsc_fallocate_size_gb: {{ vsc_fallocate_size_gb }}
{%- else %}
# vsc_fallocate_size_gb: 0
{%- endif %}

# < VSTAT Disk Size >
# Amount of VSTAT disk space to pre-allocate, in GB. Note: Values smaller than the default are for lab and PoC only. Production deployments should not modify this value.
#
{%- if vstat_allocate_size_gb is defined %}
vstat_allocate_size_gb: {{ vstat_allocate_size_gb }}
{%- else %}
# vstat_allocate_size_gb: 100
{%- endif %}

# < Portal Disk Size >
# Amount of Portal disk space to pre-allocate, in GB. Note: Values smaller than the default are for lab and PoC only. Production deployments should not modify this value.
#
{%- if portal_allocate_size_gb is defined %}
portal_allocate_size_gb: {{ portal_allocate_size_gb }}
{%- else %}
# portal_allocate_size_gb: 16
{%- endif %}

# < VCIN Disk Size >
# Amount of VCIN disk space to pre-allocate, in GB. Note: Values smaller than the default are for lab and PoC only. Production deployments should not modify this value.
#
{%- if vcin_allocate_size_gb is defined %}
vcin_allocate_size_gb: {{ vcin_allocate_size_gb }}
{%- else %}
# vcin_allocate_size_gb: 285
{%- endif %}

# < NSGV Disk Size >
# Amount of NSGV disk space to pre-allocate, in GB. Note: Values smaller than the default are for lab and PoC only. Production deployments should not modify this value.
#
{%- if nsgv_allocate_size_gb is defined %}
nsgv_allocate_size_gb: {{ nsgv_allocate_size_gb }}
{%- else %}
# nsgv_allocate_size_gb: 4
{%- endif %}

################

##### KVM and VCenter RAM

# < KVM VSD RAM >
# Valid for only KVM and VCenter deployments. Amount of VSD RAM to allocate, in GB. Note: Values smaller than the default are for lab and PoC only. Production deployments must use a value greater than or equal to the default.
#
{%- if vsd_ram is defined %}
vsd_ram: {{ vsd_ram }}
{%- else %}
# vsd_ram: 24
{%- endif %}

# < KVM VSC RAM >
# Valid for only KVM and VCenter deployments. Amount of VSC RAM to allocate, in GB. Note: Values smaller than the default are for lab and PoC only. Production deployments must use a value greater than or equal to the default.
#
{%- if vsc_ram is defined %}
vsc_ram: {{ vsc_ram }}
{%- else %}
# vsc_ram: 4
{%- endif %}

# < KVM VSTAT RAM >
# Valid for only KVM and VCenter deployments. Amount of VSTAT RAM to allocate, in GB. Note: Values smaller than the default are for lab and PoC only. Production deployments must use a value greater than or equal to the default.
#
{%- if vstat_ram is defined %}
vstat_ram: {{ vstat_ram }}
{%- else %}
# vstat_ram: 16
{%- endif %}

#########################

{%- if show_target_server_type | default('kvm') == 'kvm' %}

##### KVM RAM

# < KVM VCIN RAM >
# Amount of VCIN RAM to allocate, in GB. Valid only for KVM deployments. Note: Values smaller than the default are for lab and PoC only. Production deployments must use a value greater than or equal to the default.
#
{%- if vcin_ram is defined %}
vcin_ram: {{ vcin_ram }}
{%- else %}
# vcin_ram: 24
{%- endif %}
{%- endif %}

{%- if show_target_server_type | default('kvm') == 'kvm' %}

# < KVM NUH RAM >
# Amount of NUH RAM to allocate, in GB. Valid only for KVM deployments. Note: Values smaller than the default are for lab and PoC only. Production deployments must use a value greater than or equal to the default.
#
{%- if nuh_ram is defined %}
nuh_ram: {{ nuh_ram }}
{%- else %}
# nuh_ram: 8
{%- endif %}
{%- endif %}

{%- if show_target_server_type | default('kvm') == 'kvm' %}

# < KVM Webfilter RAM >
# Amount of Webfilter RAM to allocate, in GB. Valid only for KVM deployments. Note: Values smaller than the default are for lab and PoC only. Production deployments must use a value greater than or equal to the default.
#
{%- if webfilter_ram is defined %}
webfilter_ram: {{ webfilter_ram }}
{%- else %}
# webfilter_ram: 8
{%- endif %}
{%- endif %}

{%- if show_target_server_type | default('kvm') == 'kvm' %}

# < KVM TPM RAM >
# Amount of TPM RAM to allocate, in GB. Valid only for KVM deployments. Note: Values smaller than the default are for lab and PoC only. Production deployments must use a value greater than or equal to the default.
#
{%- if tpm_ram is defined %}
tpm_ram: {{ tpm_ram }}
{%- else %}
# tpm_ram: 8
{%- endif %}
{%- endif %}

{%- if show_target_server_type | default('kvm') == 'kvm' %}

# < KVM Portal RAM >
# Amount of Portal RAM to allocate, in GB. Valid only for KVM deployments. Note: Values smaller than the default are for lab and PoC only. Production deployments must use a value greater than or equal to the default.
#
{%- if portal_ram is defined %}
portal_ram: {{ portal_ram }}
{%- else %}
# portal_ram: 24
{%- endif %}

#############
{%- endif %}

##### KVM and VCenter CPU

# < KVM VSD CPU cores >
# Valid for only KVM and VCenter deployments. Number of CPU's for VSD.
#
{%- if vsd_cpu_cores is defined %}
vsd_cpu_cores: {{ vsd_cpu_cores }}
{%- else %}
# vsd_cpu_cores: 6
{%- endif %}

# < KVM VSC CPU cores >
# Valid for only KVM and VCenter deployments. Number of CPU's for VSC.
#
{%- if vsc_cpu_cores is defined %}
vsc_cpu_cores: {{ vsc_cpu_cores }}
{%- else %}
# vsc_cpu_cores: 6
{%- endif %}

# < KVM VSTAT CPU cores >
# Valid for only KVM and VCenter deployments. Number of CPU's for VSTAT.
#
{%- if vstat_cpu_cores is defined %}
vstat_cpu_cores: {{ vstat_cpu_cores }}
{%- else %}
# vstat_cpu_cores: 6
{%- endif %}

# < KVM VNSUTIL CPU cores >
# Valid for only KVM and VCenter deployments. Number of CPU's for VNSUTIL.
#
{%- if vnsutil_cpu_cores is defined %}
vnsutil_cpu_cores: {{ vnsutil_cpu_cores }}
{%- else %}
# vnsutil_cpu_cores: 2
{%- endif %}

#########################

{%- if show_target_server_type | default('kvm') == 'kvm' %}

##### KVM CPU

# < KVM NUH CPU cores >
# Number of CPU's for NUH. Valid only for KVM deployments
#
{%- if nuh_cpu_cores is defined %}
nuh_cpu_cores: {{ nuh_cpu_cores }}
{%- else %}
# nuh_cpu_cores: 2
{%- endif %}
{%- endif %}

{%- if show_target_server_type | default('kvm') == 'kvm' %}

# < KVM VCIN CPU cores >
# Number of CPU's for VCIN. Valid only for KVM deployments
#
{%- if vcin_cpu_cores is defined %}
vcin_cpu_cores: {{ vcin_cpu_cores }}
{%- else %}
# vcin_cpu_cores: 6
{%- endif %}
{%- endif %}

{%- if show_target_server_type | default('kvm') == 'kvm' %}

# < KVM Portal VM CPU cores >
# Number of CPU's for Portal vm. Valid only for KVM deployments
#
{%- if portal_cpu_cores is defined %}
portal_cpu_cores: {{ portal_cpu_cores }}
{%- else %}
# portal_cpu_cores: 6
{%- endif %}
{%- endif %}

{%- if show_target_server_type | default('kvm') == 'kvm' %}

# < KVM Webfilter VM CPU cores >
# Number of CPU's for Webfilter vm. Valid only for KVM deployments
#
{%- if webfilter_cpu_cores is defined %}
webfilter_cpu_cores: {{ webfilter_cpu_cores }}
{%- else %}
# webfilter_cpu_cores: 2
{%- endif %}
{%- endif %}

{%- if show_target_server_type | default('kvm') == 'kvm' %}

# < KVM TPM VM CPU cores >
# Number of CPU's for TPM vm. Valid only for KVM deployments
#
{%- if tpm_cpu_cores is defined %}
tpm_cpu_cores: {{ tpm_cpu_cores }}
{%- else %}
# tpm_cpu_cores: 2
{%- endif %}

#############
{%- endif %}

##### Authentication

# < VSD Architect URL >
# VSD Architect URL. Required for tasks during Upgrade, Health Checks etc
#
{%- if vsd_auth_url is defined %}
vsd_auth_url: "{{ vsd_auth_url }}"
{%- else %}
# vsd_auth_url: https://(vsd_fqdn):8443
{%- endif %}

# < VSD Enterprise >
# Enterprise name used for authentication with VSD Architect. Required for tasks during Upgrade, Health Checks etc
#
{%- if vsd_auth_enterprise is defined %}
vsd_auth_enterprise: "{{ vsd_auth_enterprise }}"
{%- else %}
# vsd_auth_enterprise: csp
{%- endif %}

# < VCIN URL >
# VCIN URL used for API interaction. Required for tasks like VRS-E upgrade (through VCIN)
#
{%- if vcin_auth_url is defined %}
vcin_auth_url: "{{ vcin_auth_url }}"
{%- else %}
# vcin_auth_url: https://(vcin_ip_address):8443
{%- endif %}

# < VCIN Enterprise >
# Enterprise name used for authentication with VCIN. Required for tasks like VRS-E upgrade (through VCIN)
#
{%- if vcin_auth_enterprise is defined %}
vcin_auth_enterprise: "{{ vcin_auth_enterprise }}"
{%- else %}
# vcin_auth_enterprise: csp
{%- endif %}

####################

##### Hooks

# < hooks >
# List of hooks files
#
{%- if hooks is defined %}
hooks: [ {% for i in hooks | default([]) %}"{{ i }}", {% endfor %}]
{%- else %}
# hooks: []
{%- endif %}

# < skip actions >
# Skip tasks and playbooks
#
{%- if skip_actions is defined %}
skip_actions: [ {% for i in skip_actions | default([]) %}"{{ i }}", {% endfor %}]
{%- else %}
# skip_actions: []
{%- endif %}

###########

##### Component Health Report Email Options

# < Health Report SMTP Server >
# Address of SMTP server to be used if emailing health results
#
{%- if health_report_email_server is defined %}
health_report_email_server: "{{ health_report_email_server }}"
{%- else %}
# health_report_email_server: ""
{%- endif %}

# < Health Report SMTP Server Port >
# Port to be used on the SMTP Server
#
{%- if health_report_email_server_port is defined %}
health_report_email_server_port: {{ health_report_email_server_port }}
{%- else %}
# health_report_email_server_port: 25
{%- endif %}

# < Health Report Email From Address >
# Email address from which health report will be sent
#
{%- if health_report_email_from_address is defined %}
health_report_email_from_address: "{{ health_report_email_from_address }}"
{%- else %}
# health_report_email_from_address: ""
{%- endif %}

# < Health Report Destination Email Address(es) >
# List of destination email addresses
#
{%- if health_report_email_destination_addresses is defined %}
health_report_email_destination_addresses: [ {% for i in health_report_email_destination_addresses | default([]) %}"{{ i }}", {% endfor %}]
{%- else %}
# health_report_email_destination_addresses: []
{%- endif %}

###########################################

##### VSD Monit Email Alerts Configuration

# < VSD Monit Mail Server >
# Address of the mail server to be used to receive monit alerts via email
#
{%- if vsd_monit_mail_server is defined %}
vsd_monit_mail_server: "{{ vsd_monit_mail_server }}"
{%- else %}
# vsd_monit_mail_server: ""
{%- endif %}

# < VSD Monit Mail Server Port >
# Port on mail server to be used for monit alerts
#
{%- if vsd_monit_mail_server_port is defined %}
vsd_monit_mail_server_port: {{ vsd_monit_mail_server_port }}
{%- else %}
# vsd_monit_mail_server_port: 25
{%- endif %}

# < VSD Monit Mail Server Encryption Type >
# Encryption to be used when sending monit alerts via email
#
{%- if vsd_monit_mail_server_encryption is defined %}
vsd_monit_mail_server_encryption: "{{ vsd_monit_mail_server_encryption }}"
{%- else %}
# vsd_monit_mail_server_encryption: ""
{%- endif %}

# < Use VSD Monit Eventqueue >
# Enables use of monit eventqueue to store alerts if email alerts fail to send
#
{%- if vsd_use_monit_eventqueue is defined %}
vsd_use_monit_eventqueue: {{ vsd_use_monit_eventqueue | lower }}
{%- else %}
# vsd_use_monit_eventqueue: True
{%- endif %}

# < VSD Monit From Email Address >
# Email address from which monit alerts will be sent
#
{%- if vsd_monit_from_address is defined %}
vsd_monit_from_address: "{{ vsd_monit_from_address }}"
{%- else %}
# vsd_monit_from_address: ""
{%- endif %}

# < VSD Monit Reply-To Email Address >
# Email address to reply to monit alert emails
#
{%- if vsd_monit_reply_to_address is defined %}
vsd_monit_reply_to_address: "{{ vsd_monit_reply_to_address }}"
{%- else %}
# vsd_monit_reply_to_address: ""
{%- endif %}

# < VSD Monit Email Alert Subject >
# Email subject for alert emails. Overrides monit default alert subject
#
{%- if vsd_monit_email_subject is defined %}
vsd_monit_email_subject: "{{ vsd_monit_email_subject }}"
{%- else %}
# vsd_monit_email_subject: ""
{%- endif %}

# < VSD Monit Email Alert Message >
# Email message for alert emails. Overrides monit default alert message
#
{%- if vsd_monit_email_message is defined %}
vsd_monit_email_message: "{{ vsd_monit_email_message }}"
{%- else %}
# vsd_monit_email_message: ""
{%- endif %}

# < VSD Monit Destination Email Address >
# Destination email address for monit alerts
#
{%- if vsd_monit_destination_address is defined %}
vsd_monit_destination_address: "{{ vsd_monit_destination_address }}"
{%- else %}
# vsd_monit_destination_address: ""
{%- endif %}

# < VSD Monit Only Alert On >
# Specific events for which alerts should be sent. One string can be used to hold multiple events, separated by commas
#
{%- if vsd_monit_alert_only_on is defined %}
vsd_monit_alert_only_on: "{{ vsd_monit_alert_only_on }}"
{%- else %}
# vsd_monit_alert_only_on: ""
{%- endif %}

# < VSD Monit Do Not Alert On >
# Events for which alerts should not be sent. One string can be used to hold multiple events, separated by commas
#
{%- if vsd_monit_alert_not_on is defined %}
vsd_monit_alert_not_on: "{{ vsd_monit_alert_not_on }}"
{%- else %}
# vsd_monit_alert_not_on: ""
{%- endif %}

##########################################

# < VSD In-place upgrade during Install  >
# Allowing VSD in-place upgrade during Installation
#
{%- if vsd_install_inplace_upgrade is defined %}
vsd_install_inplace_upgrade: {{ vsd_install_inplace_upgrade | lower }}
{%- else %}
# vsd_install_inplace_upgrade: False
{%- endif %}

# < Keep root access >
# Create custom username and password without hardening
#
{%- if keep_root_access is defined %}
keep_root_access: {{ keep_root_access | lower }}
{%- else %}
# keep_root_access: False
{%- endif %}


###############################################################################
# Domain Name System
#
# Specify configuration for Nuage DNSs.
#
# Automatically generated by {{ generator_script | default("script") }}.
#

{% if dnss is defined and dnss %}
{% for item in dnss %}
#
# DNS {{ loop.index }}
#
-
    # < Hostname >
    # Hostname to assign to the DNS VM
    #
    {%- if item.hostname is defined %}
    hostname: "{{ item.hostname }}"
    {%- else %}
    # hostname: ""
    {%- endif %}

    # < Target Server IP or FQDN >
    # Hostname or IP address of the KVM hypervisor where the DNS VM will be instantiated
    #
    {%- if item.target_server is defined %}
    target_server: "{{ item.target_server }}"
    {%- else %}
    # target_server: ""
    {%- endif %}

    ##### Target Server

    # < Target Server Type >
    # Type of hypervisor environment into which the instance will be created
    # (kvm, vcenter) 
    #
    {%- if item.target_server_type is defined %}
    target_server_type: "{{ item.target_server_type }}"
    {%- else %}
    # target_server_type: ""
    {%- endif %}

    # < VM name >
    # Name of the Virtual Machine on the Hypervisor
    #
    {%- if item.vmname is defined %}
    vmname: "{{ item.vmname }}"
    {%- else %}
    # vmname: (Hostname)
    {%- endif %}

    # < Management IP Address >
    # IP address to assign to the management network interface of the DNS VM
    #
    {%- if item.mgmt_ip is defined %}
    mgmt_ip: "{{ item.mgmt_ip }}"
    {%- else %}
    # mgmt_ip: ""
    {%- endif %}

    # < Management Network Gateway >
    # IP address of the network gateway for the management network interface of the DNS VM
    #
    {%- if item.mgmt_gateway is defined %}
    mgmt_gateway: "{{ item.mgmt_gateway }}"
    {%- else %}
    # mgmt_gateway: ""
    {%- endif %}

    # < Management Network Prefix Length >
    # Management network netmask for the DNS VM
    #
    {%- if item.mgmt_netmask is defined %}
    mgmt_netmask: "{{ item.mgmt_netmask }}"
    {%- else %}
    # mgmt_netmask: ""
    {%- endif %}

    # < Data IP >
    # IP address to assign to the data network interface of the DNS VM
    #
    {%- if item.data_ip is defined %}
    data_ip: "{{ item.data_ip }}"
    {%- else %}
    # data_ip: ""
    {%- endif %}

    # < Data Subnet >
    # IP address to assign to the data subnet of the DNS VM
    #
    {%- if item.data_subnet is defined %}
    data_subnet: "{{ item.data_subnet }}"
    {%- else %}
    # data_subnet: ""
    {%- endif %}

    # < Data Network Netmask >
    # Netmask of the data network of the DNS VM
    #
    {%- if item.data_netmask is defined %}
    data_netmask: "{{ item.data_netmask }}"
    {%- else %}
    # data_netmask: ""
    {%- endif %}

    # < Data Network Gateway >
    # IP address of the network gateway for the data network interface of the DNS VM
    #
    {%- if item.data_gateway is defined %}
    data_gateway: "{{ item.data_gateway }}"
    {%- else %}
    # data_gateway: ""
    {%- endif %}

    # < Data Static Route >
    # Static routes to configure for the data network of the DNS VM
    #
    {%- if item.data_static_route is defined %}
    data_static_route: [ {% for i in item.data_static_route | default([]) %}"{{ i }}", {% endfor %}]
    {%- else %}
    # data_static_route: []
    {%- endif %}

    # < DNS Server >
    # IP address of the upstream DNS server for this DNS VM
    #
    {%- if item.dns_server is defined %}
    dns_server: "{{ item.dns_server }}"
    {%- else %}
    # dns_server: ""
    {%- endif %}

    # < DNS Management >
    #
    {%- if item.dns_mgmt is defined %}
    dns_mgmt: "{{ item.dns_mgmt }}"
    {%- else %}
    # dns_mgmt: ""
    {%- endif %}

    # < Management Network Bridge >
    # Network Bridge used for the management interface on the DNS server. This will be a Linux network bridge when deploying on KVM. Defaults to the global setting
    #
    {%- if item.mgmt_bridge is defined %}
    mgmt_bridge: "{{ item.mgmt_bridge }}"
    {%- else %}
    # mgmt_bridge: (global Bridge interface)
    {%- endif %}

    # < DNS Data >
    #
    {%- if item.dns_data is defined %}
    dns_data: "{{ item.dns_data }}"
    {%- else %}
    # dns_data: ""
    {%- endif %}

    # < Data Network Bridge >
    # Network Bridge used for the data path of this component. This will be a Linux network bridge when deploying on KVM.
    #
    {%- if item.data_bridge is defined %}
    data_bridge: "{{ item.data_bridge }}"
    {%- else %}
    # data_bridge: (global Bridge interface)
    {%- endif %}

    # < DNS Management Lookup >
    #
    {%- if item.dns_mgmt_lookup is defined %}
    dns_mgmt_lookup: [ {% for i in item.dns_mgmt_lookup | default([]) %}"{{ i }}", {% endfor %}]
    {%- else %}
    # dns_mgmt_lookup: []
    {%- endif %}

    # < DNS Data Lookup >
    #
    {%- if item.dns_data_lookup is defined %}
    dns_data_lookup: [ {% for i in item.dns_data_lookup | default([]) %}"{{ i }}", {% endfor %}]
    {%- else %}
    # dns_data_lookup: []
    {%- endif %}

{% endfor %}
{% else %}
[ ]
{% endif %}
